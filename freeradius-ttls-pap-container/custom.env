# .env
# Set these values per README or your container won't do anything useful

## Basic IdP details - choose and register these in Federation Manager
# See README for FQDN and realm tips when running multiple containers on the same host.
# You MUST set the same IdP shared secret on all containers that share the same public IP, since we're
# running RADIUS over UDP.
FR_IDP_FQDN=
FR_IDP_REALM=
FR_IDP_SECRET=


## Federation Level RADIUS Proxy order - choose the "closest" proxy first for better performance
# In the US, we recommend tlrs2.eduroam.us then tlrs1.eduroam.us if you're closer to the west coast; and
# vice versa if you're closer to the east coast. If you aren't sure, ping both to see which is closer.
# We recommend using hostnames for clarity, but FreeRADIUS 3.x only resolves hostnames at startup.
FR_FLR_IP_1=
FR_FLR_IP_2=


## Bootstrapped CA and TLS details - you MUST provide this
# Your bootstrapped CA cert and private key, exactly as generated by bootstrap-ca.sh
# You can use the same certificate and key for multiple containers.
FR_TLS_CA_CERT_BASE64=
FR_TLS_CA_KEY_BASE64=

# The container auto-generates a new TLS cert at startup, issued by your CA cert above. We can't cleanly load
# a new TLS cert while the container is running, so the cert's expiration is effectively the container's
# expiration. You MUST stop and start (and/or re-pull/rebuild) before expiration. We recommend 90.
FR_TLS_MAXAGE=


## SP details (wireless controller / APs) - leave blank if you're ONLY an IdP (very rare!) or testing
# The shared secret your APs will use when communicating with this container; do not use your IdP secret here.
FR_WAP_SECRET=

# IP or CIDR subnet of your controller / APs that will talk to this container
FR_WAP_IP=

# Leave these blank if you don't want to assign a VLAN to users who authenticate successfully
FR_VLAN_VISITORS=
FR_VLAN_OWNUSERS=


## LDAP details - leave blank if you want to use the local sqlite DB instead
# Set to "ldaps" for LDAPS over port 636 or "starttls" for LDAP + StartTLS over port 389
FR_LDAP_SECURITY=

# Use hostnames here, not IPs, so we can communicate securely with the LDAP server(s). If you only have one
# LDAP server, specify it twice.
FR_LDAP_HOST_FQDN_1=
FR_LDAP_HOST_FQDN_2=

# The OU containing all your users, e.g. "ou=users,dc=example,dc=org". Users can also reside in child OUs.
# We don't recommend using the LDAP root ("dc=example,dc=org") unless you're testing.
FR_LDAP_BASEDN=

# Group that a user must be a member of in order to connect, in LDAP distinguishedName format, e.g.
# "cn=eduroam users,ou=groups,dc=example,dc=org". Leave blank if all your users should be allowed to connect.
FR_LDAP_GROUP_DN=

# This user will query LDAP to determine whether a user exists, then the actual user will authenticate.
# The username below can be in LDAP distinguishedName format ("cn=foo,ou=bar,dc=example,dc=org") or in
# userPrincipalName format ("foo@example.org").
FR_LDAP_BIND_USER=
FR_LDAP_BIND_PASS=

# The cert(s) that signed your LDAP / Domain Controller's TLS cert (see README for help finding this in AD).
# To convert it into a single line of text you can paste below, run 'base64 -w 0 /path/to/ldap_root_ca.pem'.
# If there's no intermediate cert, just leave FR_LDAP_HOST_INTER_CERT_BASE64 blank.
FR_LDAP_HOST_ROOT_CERT_BASE64=
FR_LDAP_HOST_INTER_CERT_BASE64=


## Logging - use "syslog" if you have a remote syslog server (recommended); otherwise use "file"
# If you choose "file", you MUST persist the container's /var/log/freeradius/eduroam.log or you'll lose all
# logs whenever the container stops. Retaining the console output is NOT good enough.
FR_LOG_DESTINATION=

# Everything below is mandatory if you chose "syslog"

# FQDN or IP of your syslog server
FR_LOG_SYSLOG_HOST=

# Port number on your syslog server (typically 514)
FR_LOG_SYSLOG_PORT=

# Protocol for syslog: TCP or UDP (we recommend TCP)
FR_LOG_SYSLOG_PROTO=

# Syslog facility FreeRADIUS should log to (we recommend local0, local1, etc.)
FR_LOG_SYSLOG_FAC=

# Syslog severity logs (we recommend info or notice)
FR_LOG_SYSLOG_SEV=


## Debugging - set to "yes" when setting up or testing; set to blank once you're satisfied everything works
# This enables incredibly verbose but useful output and prevents the container from exiting if the FreeRADIUS
# config fails to parse, CA certs are in the wrong format, etc., so you can check the container's console/logs.
FR_DEBUG=
